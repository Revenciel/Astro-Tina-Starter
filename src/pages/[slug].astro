---
// import CustomLayout from '../layouts/CustomLayout.astro';
import Layout from '../layouts/Custom';
import { useTina } from 'tinacms/dist/react';
import { client } from '../../tina/__generated__/client'
import type Card from '../components/Card.astro';

export async function getStaticPaths() {
  const pages = await Astro.glob('../content/pages/*.{md,mdx}') 

  return pages.map((page) => ({
		params: {
			slug: page.file.split('/').pop().replace(/\.md(x)?/,'')
		},
		props: { page },

	}));
}

const { frontmatter, Content } = Astro.props.page;

---
<Layout client:load pageTitle={frontmatter.title}><Content /></Layout>